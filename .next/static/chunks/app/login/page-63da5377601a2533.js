(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{7827:(e,s,a)=>{Promise.resolve().then(a.bind(a,3865))},3865:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var i=a(2522),r=a(5004),t=a(978),n=a(6874),l=a(107);function o(){let[e,s]=(0,r.useState)(""),[a,o]=(0,r.useState)(""),[c,d]=(0,r.useState)({message:"",type:""}),h=(0,l.useRouter)();(0,r.useEffect)(()=>{localStorage.getItem("infyskill_token")&&h.push("/dashboard")},[h]);let m=async s=>{s.preventDefault(),d({message:"Signing in...",type:""});try{let s=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e,password:a})}),i=await s.json();if(!s.ok)throw Error(i.message||"Login failed");if(!i.token||!i.user)throw Error("Login failed");localStorage.setItem("infyskill_token",i.token),localStorage.setItem("infyskill_user",JSON.stringify(i.user)),d({message:"Login successful. Redirecting...",type:"success"}),setTimeout(()=>{h.push("/dashboard")},800)}catch(e){localStorage.removeItem("infyskill_token"),localStorage.removeItem("infyskill_user"),d({message:e.message,type:"error"})}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.Z,{}),(0,i.jsx)("section",{className:"auth-hero",children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsxs)("div",{className:"auth-card",children:[(0,i.jsx)("h1",{children:"Welcome Back"}),(0,i.jsx)("p",{children:"Log in to access your dashboard and continue learning."}),(0,i.jsxs)("form",{id:"loginForm",onSubmit:m,children:[(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"email",children:"Email"}),(0,i.jsx)("input",{type:"email",id:"email",name:"email",required:!0,placeholder:"you@example.com",value:e,onChange:e=>s(e.target.value)})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"password",children:"Password"}),(0,i.jsx)("input",{type:"password",id:"password",name:"password",required:!0,placeholder:"Enter password",value:a,onChange:e=>o(e.target.value)})]}),(0,i.jsx)("div",{className:"auth-meta",children:(0,i.jsx)("a",{href:"/forgot-password",children:"Forgot password?"})}),(0,i.jsx)("button",{type:"submit",className:"btn btn-primary btn-full",children:"Login"})]}),(0,i.jsxs)("p",{className:"auth-switch",children:["Don't have an account? ",(0,i.jsx)("a",{href:"/signup",children:"Sign up"})]}),c.message&&(0,i.jsx)("div",{className:"auth-feedback ".concat(c.type),id:"loginFeedback",children:c.message})]}),(0,i.jsxs)("div",{className:"auth-side",children:[(0,i.jsx)("img",{src:"/images/home.webp",alt:"Learning"}),(0,i.jsxs)("div",{className:"auth-side-content",children:[(0,i.jsx)("h2",{children:"Stay Ahead"}),(0,i.jsx)("p",{children:"Access exclusive courses, personalized recommendations, and mentorship opportunities."})]})]})]})}),(0,i.jsx)(n.Z,{})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[26,429,842,728,744],()=>s(7827)),_N_E=e.O()}]);